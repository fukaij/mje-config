#!/bin/sh
#
# vdo - Execute given version control command on lists of files
# Written by Martin Ebourne, Started 20/08/99
#
# $Id: vdo,v 1.2 1999/08/20 12:33:52 martine Exp $


if [ $# -lt 1 -o "$1" = "-h" -o "$1" = "--help" ]
then
  echo "Usage: `basename $0` <commands>"
  echo "Use \$file to reference filename to be processed - be"
  echo "careful to protect special characters from the shell."
  echo "eg. `basename $0` 'vput \$file -c \"Comment\" ; vsnap \$file'"
  exit 1
fi

echo "Enter files to be processed followed by EOF (ctrl-D):"

for i in `cat`
do
  if [ "$i" != "L" -a "$i" != "S" -a "$i" != "N" ]
  then
    (
      cd `dirname $i`

      file=`basename $i`

      eval $*
    )
  fi
done
