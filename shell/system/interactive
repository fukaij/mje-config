# ZSH configuration file
# Executed for interactive shells via zshrc
# Generic system-wide setup for interactive use
# Written by Martin Ebourne
#
# $Id: interactive,v 1.21 2001/08/17 15:25:38 mebourne Exp $

# Initial config files
config_if_present system/options

# Always include this package. If colour is disabled it will take note
package colour

# Prompts. These will be overridden if the prompt package is included
PROMPT='$USERNAME@%m:%3c%# '
RPROMPT='%T'

# Pager to use for stand-alone redirections - ie. < file
if [[ $(whence -p less) == /* ]]
then
  READNULLCMD=less
else
  READNULLCMD=more
fi

# Treat these characters as part of a word
WORDCHARS='*?_-.[]~#'

# Ignore these filename extensions in completion
fignore=(\~ % \# .o .d .elc .zwc)

# Basic CDPATH. Need . on it because it is export to ksh etc.
cdpath=(. $HOME)

# Automatically report time for commands taking longer than a minute
REPORTTIME=60

# Set up history saving
HISTSIZE=3000
SAVEHIST=2000
HISTFILE=${ZDOTDIR:-$HOME}/.zsh_history
if [[ ${ZDOTDIR:-$HOME} != $HOME ]]
then
  HISTFILE=$ZDOTDIR/.history
fi
backup_history

# Set up want/go. Use ZDOTDIR if not home. This should be in the user's home
# account, and make the system work over machines. Otherwise use /tmp in order
# to reduce clutter. Note that then it is very unlikely to work across
# machines
if [[ -n $ZDOTDIR && $ZDOTDIR != $HOME ]]
then
  semaphore_base=$ZDOTDIR/.tmp.semaphore.
else
  semaphore_base=${TMPPREFIX:-/tmp/zsh}.semaphore.
fi

# Update XTerm title bar with useful info after each command
if (( XTERM ))
then
  package xterm
fi

# Really fancy multi-line coloured prompt. Will work in non-colour xterm, but too
# obtrusive in that case, so not enabled
if (( COLOUR ))
then
  package prompt
fi

# Final config files
config_if_present system/aliases
config_if_present system/keys
package completion
package dirstack