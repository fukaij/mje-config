# ZSH function file
# Part of the clearcase package
# Set view to that matching username
# Usage: myview
#
# $Id: myview,v 1.3 2001/03/16 12:44:24 mebourne Exp $

_clearcase_getviews

local -a views
views=(${(M)_clearcase_views:#*$USER*})

if (( $#views != 1 ))
then
  echo "Cannot determine suitable view on this machine. Choices are:" 1>&2
  print -c $views 1>&2
  return 1
fi

echo "Setting view to $views"
cleartool setview $views
