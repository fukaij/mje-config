# ZSH function file
# Part of the clearcase package
# Set view to that matching username
# Usage: myview
#
# $Id: myview,v 1.2 2001/02/21 11:19:00 mebourne Exp $

_clearcase_getviews

local views
views=(${(M)_clearcase_views:#*$USER*})

if [[ ${#views} -ne 1 ]]
then
  echo "Cannot determine suitable view on this machine. Choices are:" 1>&2
  print -c $views 1>&2
  return 1
fi

echo "Setting view to $views"
cleartool setview $views
