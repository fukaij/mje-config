#eval compdef -n _parse_opts cico
# ZSH function file
# Part of the clearcase package
# Checkin checked out files
#
# $Id: cico,v 1.4 2001/07/31 17:16:42 mebourne Exp $

local -a args
args=($argv[*])
local -A opts
parse_opts args opts - 0 0 <<'EOF' || return 1
cico [options]
  -h, --help			Provide this help
				# help | h
  -r, --recurse			Recurse through directories looking for files
				# recurse | r = constant=-r
EOF

local -a files
files=($(cleartool lscheckout -me -cview -short $opts[recurse]))

echo "Check in all of these files?"
echo - ${(F)files}
if read -q
then
  cleartool ci -cq $files
fi
