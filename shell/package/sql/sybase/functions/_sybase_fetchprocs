# ZSH function file
# Part of the SQL Sybase package
# Fetch and return the list of stored procedures
# For use only by the SQL packages
#
# $Id: _sybase_fetchprocs 792 2003-09-22 11:47:18Z martin $

{
  echo "set nocount on"
  echo "go"
  echo "select name from sysobjects where type in ('P')"
  echo "union"
  echo "select name from sybsystemprocs..sysobjects where type in ('P') and name like 'sp[_][^_]%'"
  echo "go"
} | _sybase_rawsql | tail +3
