# ZSH configuration file
# Executed when the SQL base package is included
# Setup for SQL base package
# Written by Martin Ebourne
#
# $Id: setup,v 1.6 2001/05/29 16:56:50 mebourne Exp $

add_functions_directory package/sql/base/functions

typeset -gA _sql_parameters _sql_functions

# This is an ignored command, just used as a hint to the SQL widget functions
alias quoted=""

# Quoted must come first
alias sql="quoted nocorrect noglob sql"
alias desc="quoted nocorrect noglob desc"

alias ssf="sql select * from"
alias scsf="sql select count(*) \'Rows\' from"
alias select="sql select"

# Bind special keys for SQL quoting
zle -N sql_quote _sql_quote
zle -N sql_quote_line _sql_quote_line
bindkey "\'" sql_quote
bindkey "^Xq" sql_quote_line

# Options defaults
# count    - Print count of number of rows returned (or affected)
# maxrows  - Maximum number of rows to return
# format   - Enable SQL formatting. Does nothing by itself, but controls the following:
#   colour - Colour displayed data based on context (default based on $COLOUR)
#   squash - Squash columns in displayed data so that no space is wasted
sqlset count=1 format=1 squash=1
sqlunset maxrows colour
