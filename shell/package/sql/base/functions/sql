# ZSH function file
# Part of the SQL base package
# Execute an SQL command
# Usage: sql <sql-command> ...
#
# $Id: sql,v 1.3 2001/05/31 11:46:36 mebourne Exp $

eval $_sql_intro

if (( ARGC ))
then
  local format_v colour_v formatcmd
  _sql_getparam format_v format none
  if [[ ${format_v:-none} != none ]]
  then
    formatcmd='| sqlformat.pl'

    _sql_getparam colour_v colour 0
    if (( ${colour_v:-0} ))
    then
      formatcmd="$formatcmd -c"
    fi

    formatcmd="$formatcmd $format_v"
  fi
  eval _sql_call execute "\$argv[@]" $formatcmd
else
  _sql_call interactive
fi
